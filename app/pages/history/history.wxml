<view class="container">
  <view class="header">
    <text class="title">ğŸ“œ å†å²è®°å½•</text>
    <text class="subtitle">æŸ¥çœ‹æ‚¨ä¹‹å‰çš„æ£€æµ‹è®°å½•</text>
  </view>

  <view class="history-list" wx:if="{{history.length > 0}}">
    <view class="history-item" wx:for="{{history}}" wx:key="index" bindtap="viewDetail" data-index="{{index}}">
      <view class="item-header">
        <text class="item-date">{{item.createTime}}</text>
        <text class="item-score {{item.overallScore >= 70 ? 'good' : (item.overallScore >= 50 ? 'normal' : 'poor')}}">{{item.overallScore}}åˆ†</text>
      </view>
      
      <view class="item-content">
        <view class="item-metric">
          <text class="metric-icon">ğŸ“</text>
          <text class="metric-label">BMI</text>
          <text class="metric-value">{{item.bmi}}</text>
        </view>
        
        <view class="item-metric">
          <text class="metric-icon">â¤ï¸</text>
          <text class="metric-label">å¿ƒç‡</text>
          <text class="metric-value">{{item.heartRate || '--'}}</text>
        </view>
        
        <view class="item-metric">
          <text class="metric-icon">ğŸ©¸</text>
          <text class="metric-label">è¡€å‹</text>
          <text class="metric-value">{{item.systolic || '--'}}/{{item.diastolic || '--'}}</text>
        </view>
      </view>
      
      <view class="item-footer">
        <text class="item-level {{item.overallScore >= 70 ? 'good' : (item.overallScore >= 50 ? 'normal' : 'poor')}}">{{item.healthLevel}}</text>
        <text class="item-arrow">â€º</text>
      </view>
    </view>
  </view>

  <view class="empty-state" wx:else>
    <text class="empty-icon">ğŸ“­</text>
    <text class="empty-title">æš‚æ— å†å²è®°å½•</text>
    <text class="empty-desc">å¼€å§‹æ‚¨çš„ç¬¬ä¸€æ¬¡ä½“è´¨æ£€æµ‹å§ï¼</text>
    <button class="empty-btn" bindtap="goToTest">å»æ£€æµ‹</button>
  </view>
</view>
